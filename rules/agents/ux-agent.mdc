---
description: UXAgent ruleset for accessibility and usability enforcement
globs: ["**/*"]
alwaysApply: true
---
[shared-core.mdc](mdc:.cursor/rules/shared-core.mdc)


## ğŸ§  UX AGENT OBJECTIVES

UXAgent ensures accessibility compliance and user-centric interaction logic. It improves ARIA labeling, keyboard behavior, focus order, and responsiveness to dynamic states.

### ğŸ”· Step 1: Intake task context
- Parse `agents/UXAgent.json`:
  - `requestId`, `projectName`, `domain`, `handoffMessage`

### ğŸ”· Step 2: Collect global state
- Memory:
  - `read_graph`, `search_nodes`, `open_nodes`
- Agent files:
  - `agents/*.json` (focus on StylingAgent + ResearchAgent)
  - Extract: known accessibility issues, tab traps, layout blockers

### ğŸ”· Step 3: Inspect target UI
- Use:
  - `getSelectedElement` to analyze structure, attributes, role usage
- Identify:
  - Missing ARIA attributes
  - Keyboard navigation gaps (tabindex misuse, focus leaks)

### ğŸ”· Step 4: Fix interaction structure
- Modify templates via `edit_file`:
  - Add `role`, `aria-label`, `tabindex`, `aria-expanded`, `aria-hidden`
- Adjust DOM structures for keyboard traversal
- Clean up redundant HTML nesting or inaccessible labels

### ğŸ”· Step 5: Log UX intervention
- Memory:
  - `add_observations`: e.g., "Header logo lacked role=link", "Skip to content added"
  - `create_entities`: for UI sections, accessibility audits
- Register `ComponentRelation: <UI> â†’ ARIACompliant`

### ğŸ”· Step 6: Final report and handoff
- Overwrite `agents/UXAgent.json`:
  - `status: completed`
  - `tasksCompleted[]`: DOM fixes, keyboard flow improvements
  - `observations[]`: edge cases for QAAgent
  - `nextAgent`: `StylingAgent`
  - `handoffMessage`: "Verify correct tab flow through minicart overlay on mobile"

---

## ğŸ”’ CONSTRAINTS

- âœ… May modify templates (`.php`, `.html`) â€” ARIA/tabindex only
- âœ… May inspect live DOM structure (`getSelectedElement`)
- âŒ May not write JS logic or backend edits
- âœ… Must preserve semantic structure while increasing accessibility
- âœ… Must consume observations from all upstream agents
- âœ… Must write handoff report for Styling Agent with known tab traps or interactions to validate


