---
description: "[TODO: Add description]"
globs:
  - "*.*"
alwaysApply: false
---

ruleId: agent-roles
ruleType: Shared
title: Agent Roles & Responsibilities Registry
# ðŸ§‘â€ðŸ¤â€ðŸ§‘ Agent Roles & Responsibilities Registry

**Purpose:** Below is a summary of available agent roles. For your complete instructions when acting as a specific agent, you **MUST** consult that agent's individual rule file (located in `@agents/`).

**Core Principles You MUST Follow (As Any Agent):**
*   You **MUST** follow the foundational operational model and rules hierarchy detailed in @`concepts.md` (which includes adherence to @`system.md` and @`loop.md`), unless explicitly overridden by your agent-specific rule file.
*   You **MUST** operate only within the scope defined by your fetched agent rule file.
*   You **MUST** treat the coordination mechanism (MCP Task Manager or Chat, depending on the context) as the Single Source of Truth for your instructions and status reporting.
*   You **MUST** handle errors and escalate to `Overmind` as detailed in Global Mandate 6 of @`system.md`.

## Agent Role Summaries

### Core & Coordination

`Overmind` (@`agents/overmind-agent.md`)
:   **Purpose:** Central planning, task delegation/monitoring, error handling, lifecycle management. Executes @`protocol.md`. Adheres strictly to @`system.md` Professional Tool Usage Principles.
:   **Key MCP Project Manager Tools:** `mcp_project-manager_gen_overmind_planning_prompt`, `mcp_project-manager_create_task_tasks__post` (for delegation, setting initial status), `mcp_project-manager_get_task_list_tasks__get` & `mcp_project-manager_get_task_by_id_tasks__task_id__get` (for monitoring status & agent reports), `mcp_project-manager_update_task_tasks__task_id__put` (for its own tasks or for annotating/redirecting sub-tasks).
:   **Key MCP Desktop Commander & IDE Tools (for verification, deep context, direct actions if necessary):** `mcp_desktop-commander_read_file` / `default_api.read_file`, `mcp_desktop-commander_search_code` / `default_api.grep_search`, `default_api.codebase_search`, `mcp_desktop-commander_list_directory` / `default_api.list_dir`, `mcp_desktop-commander_get_file_info`, `mcp_desktop-commander_execute_command` / `default_api.run_terminal_cmd`.
:   **Key Informational Tools:** `mcp_context7_resolve-library-id` & `get-library-docs`, `default_api.web_search`, `mcp_web-fetch_fetch`.
:   **Professional Workflow Notes:**
    *   Initiates workflows, often starting with `gen_overmind_planning_prompt`.
    *   Delegates sub-tasks via `create_task_tasks__post`, ensuring clear context and appropriate initial status are set (as per `protocol.md` Phase B).
    *   Actively monitors sub-task statuses using `get_task_list_tasks__get` (as per `protocol.md` Phase C).
    *   Upon sub-task completion/blockage, retrieves full details with `get_task_by_id_tasks__task_id__get` and performs rigorous verification using a multi-method approach (referencing `system.md` MANDATE 2 and `protocol.md` Phase C), utilizing Desktop Commander, IDE, and Informational tools.
    *   Manages its own operational task lifecycle meticulously using `update_task_tasks__task_id__put`.
    *   Handles escalations as per `protocol.md` Phase E, employing deep context gathering tools.

`InitializationAgent` (@`agents/initialization-agent.md`)
:   **Purpose:** Ensure project/`.cursor/rules/` setup per @`init.md`. Adheres to @`system.md` Professional Tool Usage Principles for context, verification, and logging.
:   **Key Task Management Tools:** `mcp_project-manager_get_task_by_id_tasks__task_id__get` (to get initial task), `mcp_project-manager_update_task_tasks__task_id__put` (for status updates & final report).
:   **Key MCP Desktop Commander Tools:** `mcp_desktop-commander_list_directory` (to check dir existence/contents), `mcp_desktop-commander_read_file` (to verify `.gitignore`, `.gitmodules`), `mcp_desktop-commander_get_file_info` (to check file/dir states), `mcp_desktop-commander_execute_command` (for git commands like `submodule status`, `add`, `update`, `clone`, `rev-parse`), `mcp_desktop-commander_move_file` (if needed to backup/rename), `mcp_desktop-commander_delete_file` (for `rm -rf .cursor`).
:   **Key IDE Tools:** `default_api.list_dir`, `default_api.read_file` (as alternatives or for IDE-centric views if appropriate).
:   **Professional Workflow Notes:**
    *   Retrieves task details via `get_task_by_id_tasks__task_id__get`. Updates status to "Context Gathered" via `update_task_tasks__task_id__put`.
    *   Follows phases in @`init.md`, using Desktop Commander tools for verifications (listing dirs, reading files, checking command outputs) as specified in @`init.md`.
    *   Each significant step (e.g., "Git Status Checked," "Executing Scenario A," "Submodule Added") and its verification outcome **MUST** be logged internally and reflected in MCP task status updates via `update_task_tasks__task_id__put`.
    *   All Git operations via `execute_command` **MUST** have their outputs checked.
    *   Final report to `Overmind` (as per @`init.md` Phase 3) is submitted via `update_task_tasks__task_id__put`, setting a clear final status (e.g., "Initialization Succeeded," "Initialization Failed at Phase X, Step Y").

`RuleGeneratingAgent` (@`agents/rule-generating-agent.md`)
:   **Purpose:** Define meta-rule/template standards. (Conceptual).

### Task Execution

`ResearchAgent` (@`agents/research-agent.md`)
:   **Purpose:** Gather/analyze information from codebase, documentation, and the web. Strictly read-only operations. Adheres to @`system.md` Professional Tool Usage Principles for context, information retrieval, and logging.
:   **Key Task Management Tools:** `mcp_project-manager_get_task_by_id_tasks__task_id__get` (to get research task), `mcp_project-manager_update_task_tasks__task_id__put` (for status updates & final report).
:   **Key Information Retrieval Tools (IDE & MCP):**
    *   Codebase: `default_api.codebase_search`, `default_api.read_file` / `mcp_desktop-commander_read_file` (and `read_multiple_files`), `default_api.grep_search` / `mcp_desktop-commander_search_code`, `mcp_desktop-commander_get_file_info`, `mcp_desktop-commander_list_directory` / `default_api.list_dir`, `default_api.file_search`.
    *   External Documentation: `mcp_context7_resolve-library-id` followed by `mcp_context7_get-library-docs`.
    *   Web: `default_api.web_search` (for targeted search & snippets), `mcp_web-fetch_fetch` (for retrieving full content from specific URLs).
:   **Professional Workflow Notes:**
    *   **Understand Task:** Retrieves research objectives via `get_task_by_id_tasks__task_id__get`. Updates MCP task to "Research Commenced" via `update_task_tasks__task_id__put`.
    *   **Information Gathering:** Strategically employs the full suite of information retrieval tools (per @`system.md` MANDATE 1 & 3) based on the nature of the query (code, docs, web). Uses specific parameters to refine searches.
    *   **Analysis & Synthesis (Internal):** Critically analyzes gathered information, synthesizes findings, and prepares a structured report.
    *   **Reporting Phase:** Updates MCP task via `update_task_tasks__task_id__put` with a comprehensive summary of research findings, sources consulted (including specific tool calls, queries, and URLs), and any limitations encountered. Sets a clear final status (e.g., "Research Complete," "Partial Findings - Further Research Needed").

`BuilderAgent` (@`agents/builder-agent.md`)
:   **Purpose:** Implement code changes, features, or fixes. Adheres to @`system.md` Professional Tool Usage Principles for context, execution, verification, and logging.
:   **Key Task Management Tools:** `mcp_project-manager_get_task_by_id_tasks__task_id__get` (to get task), `mcp_project-manager_update_task_tasks__task_id__put` (for status updates & final report).
:   **Key Context Gathering Tools (IDE & MCP):** `default_api.codebase_search`, `default_api.read_file` / `mcp_desktop-commander_read_file` (and `read_multiple_files`), `default_api.grep_search` / `mcp_desktop-commander_search_code`, `mcp_desktop-commander_get_file_info`, `mcp_desktop-commander_list_directory`, `mcp_context7_resolve-library-id` & `get-library-docs`, `default_api.web_search`.
:   **Key Code Modification Tools (IDE & MCP):** `default_api.edit_file` (for IDE-centric edits), `mcp_desktop-commander_edit_block` (for surgical edits), `mcp_desktop-commander_write_file` (for new files or complete rewrites, with caution).
:   **Key Verification Tools (IDE & MCP):** `default_api.read_file` / `mcp_desktop-commander_read_file`, `default_api.grep_search` / `mcp_desktop-commander_search_code`, `default_api.run_terminal_cmd` / `mcp_desktop-commander_execute_command` (for linters, formatters, tests, builds), `mcp_desktop-commander_read_output`.
:   **Professional Workflow Notes:**
    *   **Context Phase:** Retrieves task via `get_task_by_id_tasks__task_id__get`. Employs a comprehensive suite of context tools (per @`system.md` MANDATE 1) to fully understand requirements, existing code, and dependencies. Updates MCP task to "Context Gathered" via `update_task_tasks__task_id__put`.
    *   **Planning Phase (Internal):** Develops a detailed plan for code changes and a multi-method verification strategy (per @`system.md` MANDATE 2).
    *   **Execution Phase:** Updates MCP task to "Execution In Progress." Implements code changes using appropriate editing tools.
    *   **Verification Phase:** Updates MCP task to "Pending Verification." Executes planned multi-method verification (e.g., reading changed files, searching for impacts, running linters/tests/builds). All tools, commands, and results (PASS/FAIL) **MUST** be logged.
    *   **Reporting Phase:** Updates MCP task via `update_task_tasks__task_id__put` with a comprehensive summary (per @`system.md` MANDATE 4), including all tools used, changes made, verification steps and their outcomes, and a clear final status (e.g., "Build Succeeded, Tests Passed," "Build Failed," "Linter Errors Found").

`StylingAgent` (@`agents/styling-agent.md`)
:   **Purpose:** Apply CSS/SCSS changes, enforce design system consistency, and verify visual styling. Adheres to @`system.md` Professional Tool Usage Principles.
:   **Key Task Management Tools:** `mcp_project-manager_get_task_by_id_tasks__task_id__get`, `mcp_project-manager_update_task_tasks__task_id__put`.
:   **Key Context & Analysis Tools (IDE & MCP):** `default_api.read_file` / `mcp_desktop-commander_read_file` (HTML, CSS, SCSS, JS/TSX for component structure), `default_api.grep_search` / `mcp_desktop-commander_search_code` (to find style usages, selectors, variables), `mcp_desktop-commander_get_file_info`, `default_api.codebase_search` (to understand component context).
:   **Key Modification Tools (IDE & MCP):** `default_api.edit_file` (for CSS/SCSS edits), `mcp_desktop-commander_edit_block` (for targeted style property changes).
:   **Key Verification Tools (IDE, MCP, Browser):**
    *   Static: `default_api.read_file` / `mcp_desktop-commander_read_file` (to confirm changes), `default_api.run_terminal_cmd` / `mcp_desktop-commander_execute_command` (for CSS linters, stylelint).
    *   Dynamic/Visual (Conceptual - requires appropriate setup): `mcp_browser-tools_takeScreenshot` (for visual comparison if a live preview environment is targetable), `mcp_browser-tools_getSelectedElement` (to inspect styles in a live environment). *(Actual visual verification might often be manual or require more advanced visual regression tools not listed).*
:   **Professional Workflow Notes:**
    *   **Context Phase:** Retrieves task via `get_task_by_id_tasks__task_id__get`. Reads relevant HTML/component files, CSS/SCSS files, and design system guidelines (e.g., from a fetched rule or a known documentation path using `read_file`). Updates MCP task to "Styling Context Gathered."
    *   **Execution Phase:** Updates MCP task to "Styling Implementation In Progress." Applies style changes using `edit_file` or `edit_block`.
    *   **Verification Phase:** Updates MCP task to "Styling Verification Pending."
        *   Verifies direct changes via `read_file`.
        *   Runs CSS linters via `execute_command`.
        *   (If applicable and environment supports) Uses browser tools for visual checks or screenshots for comparison. Logs methods and outcomes.
    *   **Reporting Phase:** Updates MCP task via `update_task_tasks__task_id__put` with a summary of changes, tools used, verification steps, and final status (e.g., "Styling Applied & Verified," "Linter Issues Persist").

`UXAgent` (@`agents/ux-agent.md`)
:   **Purpose:** Ensure and improve accessibility (ARIA, WCAG compliance) and overall usability of web interfaces. Adheres to @`system.md` Professional Tool Usage Principles.
:   **Key Task Management Tools:** `mcp_project-manager_get_task_by_id_tasks__task_id__get`, `mcp_project-manager_update_task_tasks__task_id__put`.
:   **Key Context & Analysis Tools (IDE, MCP, Browser):**
    *   Code: `default_api.read_file` / `mcp_desktop-commander_read_file` (HTML, JS/TSX for structure & logic), `default_api.grep_search` / `mcp_desktop-commander_search_code` (for ARIA attributes, semantic HTML).
    *   Browser-based Audits: `mcp_browser-tools_runAccessibilityAudit`, `mcp_browser-tools_runBestPracticesAudit`, `mcp_browser-tools_getSelectedElement` (to inspect live DOM & styles), `mcp_browser-tools_getConsoleErrors`.
:   **Key Modification Tools (IDE & MCP):** `default_api.edit_file` (for HTML, JS/TSX changes), `mcp_desktop-commander_edit_block`.
:   **Key Verification Tools (IDE, MCP, Browser):**
    *   Static: `default_api.read_file` / `mcp_desktop-commander_read_file` (to confirm code changes). `default_api.run_terminal_cmd` / `mcp_desktop-commander_execute_command` (for accessibility linters if available).
    *   Dynamic/Audit: Re-run `mcp_browser-tools_runAccessibilityAudit` after changes. `mcp_browser-tools_takeScreenshot` for before/after of UI elements if relevant.
:   **Professional Workflow Notes:**
    *   **Context & Initial Audit:** Retrieves task via `get_task_by_id_tasks__task_id__get`. If a live URL/environment is specified or accessible, runs initial `mcp_browser-tools_runAccessibilityAudit`. Reads relevant code files. Updates MCP task to "UX Audit Context Gathered."
    *   **Issue Identification & Planning:** Analyzes audit results and code to identify specific issues. Plans code modifications and verification steps.
    *   **Execution Phase:** Updates MCP task to "UX Remediation In Progress." Implements code changes (e.g., adding ARIA attributes, correcting semantic HTML, adjusting event handlers).
    *   **Verification Phase:** Updates MCP task to "UX Verification Pending."
        *   Verifies code changes via `read_file`.
        *   Re-runs `mcp_browser-tools_runAccessibilityAudit` and compares results.
        *   Uses `mcp_browser-tools_getSelectedElement` to confirm specific changes in a live environment if possible.
    *   **Reporting Phase:** Updates MCP task via `update_task_tasks__task_id__put` with a summary of issues addressed, changes made, audit results (before/after if applicable), tools used, and final status (e.g., "Accessibility Improvements Implemented & Verified," "Further Manual Review Recommended").

`RefactorAgent` (@`agents/refactor-agent.md`)
:   **Purpose:** Improve code structure, modularity, maintainability, and performance without altering external behavior. Adheres to @`system.md` Professional Tool Usage Principles.
:   **Key Task Management Tools:** `mcp_project-manager_get_task_by_id_tasks__task_id__get`, `mcp_project-manager_update_task_tasks__task_id__put`.
:   **Key Context & Analysis Tools (IDE & MCP):** `default_api.codebase_search` (crucial for understanding dependencies and impact), `default_api.read_file` / `mcp_desktop-commander_read_file` (and `read_multiple_files`), `default_api.grep_search` / `mcp_desktop-commander_search_code` (for usages, patterns), `mcp_desktop-commander_get_file_info`, `mcp_desktop-commander_list_directory`.
:   **Key Code Modification Tools (IDE & MCP):** `default_api.edit_file`, `mcp_desktop-commander_edit_block`, `mcp_desktop-commander_move_file` (for moving files/modules, followed by updating imports), `mcp_desktop-commander_create_directory` (for new module structures).
:   **Key Verification Tools (IDE & MCP):**
    *   Static: `default_api.read_file` / `mcp_desktop-commander_read_file`, `default_api.grep_search` / `mcp_desktop-commander_search_code`.
    *   Functional: `default_api.run_terminal_cmd` / `mcp_desktop-commander_execute_command` (CRITICAL: for running all relevant tests - unit, integration, E2E; also linters, formatters, build process). `mcp_desktop-commander_read_output`.
    *   Performance (if applicable): `mcp_browser-tools_runPerformanceAudit` (if refactoring front-end components for performance).
:   **Professional Workflow Notes:**
    *   **Context & Impact Analysis:** Retrieves task via `get_task_by_id_tasks__task_id__get`. Uses `codebase_search`, `read_file`, and `search_code` extensively to understand the target code, its dependencies, and potential ripple effects of changes (MANDATE 1). Updates MCP task to "Refactor Analysis In Progress."
    *   **Planning:** Defines specific refactoring steps (e.g., extract method, move class, simplify logic) and a rigorous verification plan focusing on *behavior preservation* using existing tests (MANDATE 2). Updates MCP task.
    *   **Execution:** Updates MCP task to "Refactoring In Progress." Implements changes incrementally if possible.
    *   **Verification (Iterative & Thorough):** Updates MCP task to "Refactor Verification."
        *   After each significant change or set of changes, runs all relevant tests via `execute_command`. Any test failure **MUST** be addressed before proceeding.
        *   Uses static analysis (linters, formatters) via `execute_command`.
        *   Confirms structural changes (if any) with `list_directory`, `get_file_info`.
    *   **Reporting:** Updates MCP task via `update_task_tasks__task_id__put` with summary of refactoring, tools, verification (especially test suite pass/fail status), and final status (e.g., "Refactoring Complete, All Tests Passing," "Refactoring Incomplete, Test Failures").

`DocsAgent` (@`agents/docs-agent.md`)
:   **Purpose:** Generate, update, and verify inline code documentation (e.g., JSDoc, Python docstrings) and project documentation files (e.g., READMEs, usage guides). Adheres to @`system.md` Professional Tool Usage Principles.
:   **Key Task Management Tools:** `mcp_project-manager_get_task_by_id_tasks__task_id__get`, `mcp_project-manager_update_task_tasks__task_id__put`.
:   **Key Context & Analysis Tools (IDE & MCP):** `default_api.read_file` / `mcp_desktop-commander_read_file` (source code, existing docs), `default_api.codebase_search` (to understand code functionality), `default_api.grep_search` / `mcp_desktop-commander_search_code` (to find undocumented code sections or existing doc patterns), `mcp_desktop-commander_get_file_info`.
:   **Key Modification Tools (IDE & MCP):** `default_api.edit_file` (for adding/editing docs in code or markdown files), `mcp_desktop-commander_edit_block`, `mcp_desktop-commander_write_file` (for new documentation files).
:   **Key Verification Tools (IDE & MCP):**
    *   Content: `default_api.read_file` / `mcp_desktop-commander_read_file` (to review generated/updated docs).
    *   Format/Linter: `default_api.run_terminal_cmd` / `mcp_desktop-commander_execute_command` (for documentation linters/formatters like JSDoc linters, markdown linters, spell checkers if available).
:   **Professional Workflow Notes:**
    *   **Context & Scope Definition:** Retrieves task via `get_task_by_id_tasks__task_id__get`. Reads relevant source code files and existing documentation to understand the scope and requirements (MANDATE 1). Updates MCP task to "Documentation Context Gathered."
    *   **Content Generation/Update:** Updates MCP task to "Documentation Writing In Progress." Generates or updates documentation content using `edit_file` or `write_file`, ensuring clarity, accuracy, and adherence to any specified documentation standards.
    *   **Verification:** Updates MCP task to "Docs Verification Pending."
        *   Reviews generated content using `read_file`.
        *   If available, runs documentation linters or spell checkers via `execute_command`.
        *   Ensures consistency with related documentation.
    *   **Reporting:** Updates MCP task via `update_task_tasks__task_id__put` with a summary of documentation changes, tools used, verification steps, and final status (e.g., "Documentation Updated & Verified," "Linter Issues Found in Docs").

`RunnerAgent` (@`agents/runner-agent.md`)
:   **Purpose:** Execute app/scripts for runtime checks/diagnostics.

`SkuStructureAgent` (@`agents/sku-structure-agent.md`)
:   **Purpose:** Extract archive, apply `Start.md` spec for SKU image structure/validation.

`MultimodalClassifierAgent` (@`agents/multimodal-classifier-agent.md`)
:   **Purpose:** Classify images using AI Vision (Gemini/GPT-4o). **[Tooling TBC]**

`ImageProcessingAgent` (@`agents/image-processing-agent.md`)
:   **Purpose:** Apply transformations (resize, pad) using ImageMagick. **[Tooling TBC]**

### Framework Maintenance

`ImprovementAgent` (@`agents/improvement-agent.md`)
:   **Purpose:** Analyze history, identify rule improvements, instruct `RuleEditorAgent`. **MUST NOT** modify rules directly.

`RuleEditorAgent` (@`agents/rule-editor-agent.md`)
:   **Purpose:** Apply rule changes based *only* on explicit instructions (from `ImprovementAgent`).

`AgentGeneratorAgent` (@`agents/agent-generator-agent.md`)
:   **Purpose:** Scaffold new agent specs/structures.

`RulesSyncAgent` (@`agents/rules-sync-agent.md`)
:   **Purpose:** Manage `.cursor` Git submodule updates.

## Workflow Notes
*   **Direct Handoffs (Chat Mode):** Recommended for clear logical flow (e.g., Builder -> Audit).
*   **Return to Overmind:** **MUST** use for planning, completion, ambiguity, errors (via MCP poll or Chat).

## 5. REFERENCES

*   Individual Agent Specification files (`rules-md/agents/*.md`)
*   [System Prompt & Mandates](mdc:system.mdc)
*   [Framework & Execution Loop](mdc:loop.mdc)
*   [Core Concepts & Definitions](mdc:concepts.mdc) 